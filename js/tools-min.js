window.toId=function(e){return e?(""+e).toLowerCase().replace(/[^a-z0-9]/g,""):""},window.escapeHTML=function(e){return e?(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2f;"):""},window.trim=function(e){return e?(""+e).trim():""},window.Tools={decimalFormat:function(e,a,t){if(isNaN(e))return"NaN";for(var o=""+e,r=o.split("."),n=r[1]||"";n.length<a;)n+="0";return t&&n.length>t&&(n=n.substr(0,t)),r[0]+"."+n},wget:function(e,a){jQuery.get(e,a).fail(function(){NavigationBar.setLoading(),$("#loading-text").html("Connection Error. Try to refresh the page.")})},getFormatName:function(e){return FormatNames[e]?escapeHTML(FormatNames[e]):e.length<3?e.toUpperCase():/suspecttest$/.test(e)?this.getFormatName(e.substr(0,e.length-11))+" (Suspect Test)":e},months:["","January","February","March","April","May","June","July","August","September","October","November","December"],getMonthName:function(e){e=e.split("-");var a=parseInt(e[0]),t=parseInt(e[1]||"");return this.months[t]+", "+a},toSpriteId:function(e){return e?(e=(""+e).toLowerCase().replace(/[^a-z0-9-]/g,""),e=e.split("-"),e[0]+(e.length>1?"-"+e.slice(1).join(""):"")):""},getPokemonSprite:function(e){var a=Tools.toSpriteId(e);return"https://play.pokemonshowdown.com/sprites/bw/"+a+".png"},getPokemonIcon:function(e,a){var t=0,o=toId(e);window.BattlePokedex&&window.BattlePokedex[o]&&BattlePokedex[o].num&&(t=BattlePokedex[o].num),t<0&&(t=0),t>807&&(t=0);var r={egg:817,pikachubelle:818,pikachulibre:819,pikachuphd:820,pikachupopstar:821,pikachurockstar:822,pikachucosplay:823,castformrainy:851,castformsnowy:852,castformsunny:853,deoxysattack:854,deoxysdefense:855,deoxysspeed:856,burmysandy:857,burmytrash:858,wormadamsandy:859,wormadamtrash:860,cherrimsunshine:861,shelloseast:862,gastrodoneast:863,rotomfan:864,rotomfrost:865,rotomheat:866,rotommow:867,rotomwash:868,giratinaorigin:869,shayminsky:870,unfezantf:871,basculinbluestriped:872,darmanitanzen:873,deerlingautumn:874,deerlingsummer:875,deerlingwinter:876,sawsbuckautumn:877,sawsbucksummer:878,sawsbuckwinter:879,frillishf:880,jellicentf:881,tornadustherian:882,thundurustherian:883,landorustherian:884,kyuremblack:885,kyuremwhite:886,keldeoresolute:887,meloettapirouette:888,vivillonarchipelago:889,vivilloncontinental:890,vivillonelegant:891,vivillonfancy:892,vivillongarden:893,vivillonhighplains:894,vivillonicysnow:895,vivillonjungle:896,vivillonmarine:897,vivillonmodern:898,vivillonmonsoon:899,vivillonocean:900,vivillonpokeball:901,vivillonpolar:902,vivillonriver:903,vivillonsandstorm:904,vivillonsavanna:905,vivillonsun:906,vivillontundra:907,pyroarf:908,flabebeblue:909,flabebeorange:910,flabebewhite:911,flabebeyellow:912,floetteblue:913,floetteeternal:914,floetteorange:915,floettewhite:916,floetteyellow:917,florgesblue:918,florgesorange:919,florgeswhite:920,florgesyellow:921,meowsticf:931,aegislashblade:932,hoopaunbound:934,rattataalola:935,raticatealola:936,raichualola:937,sandshrewalola:938,sandslashalola:939,vulpixalola:940,ninetalesalola:941,diglettalola:942,dugtrioalola:943,meowthalola:944,persianalola:945,geodudealola:946,graveleralola:947,golemalola:948,grimeralola:949,mukalola:950,exeggutoralola:951,marowakalola:952,greninjaash:953,zygarde10:954,zygardecomplete:955,oricoriopompom:956,oricoriopau:957,oricoriosensu:958,lycanrocmidnight:959,wishiwashischool:960,miniormeteor:961,miniororange:962,minioryellow:963,miniorgreen:964,miniorblue:965,miniorviolet:966,miniorindigo:967,magearnaoriginal:968,pikachuoriginal:969,pikachuhoenn:970,pikachusinnoh:971,pikachuunova:972,pikachukalos:973,pikachualola:974,pikachupartner:975,lycanrocdusk:976,necrozmaduskmane:977,necrozmadawnwings:978,necrozmaultra:979,gumshoostotem:735,raticatealolatotem:936,marowakalolatotem:952,araquanidtotem:752,lurantistotem:754,salazzletotem:758,vikavolttotem:738,togedemarutotem:777,mimikyutotem:778,mimikyubustedtotem:778,ribombeetotem:743,kommoototem:784,venusaurmega:984,charizardmegax:985,charizardmegay:986,blastoisemega:987,beedrillmega:988,pidgeotmega:989,alakazammega:990,slowbromega:991,gengarmega:992,kangaskhanmega:993,pinsirmega:994,gyaradosmega:995,aerodactylmega:996,mewtwomegax:997,mewtwomegay:998,ampharosmega:999,steelixmega:1e3,scizormega:1001,heracrossmega:1002,houndoommega:1003,tyranitarmega:1004,sceptilemega:1005,blazikenmega:1006,swampertmega:1007,gardevoirmega:1008,sableyemega:1009,mawilemega:1010,aggronmega:1011,medichammega:1012,manectricmega:1013,sharpedomega:1014,cameruptmega:1015,altariamega:1016,banettemega:1017,absolmega:1018,glaliemega:1019,salamencemega:1020,metagrossmega:1021,latiasmega:1022,latiosmega:1023,kyogreprimal:1024,groudonprimal:1025,rayquazamega:1026,lopunnymega:1027,garchompmega:1028,lucariomega:1029,abomasnowmega:1030,gallademega:1031,audinomega:1032,dianciemega:1033,syclant:1152,revenankh:1153,pyroak:1154,fidgit:1155,stratagem:1156,arghonaut:1157,kitsunoh:1158,cyclohm:1159,colossoil:1160,krilowatt:1161,voodoom:1162,tomohawk:1163,necturna:1164,mollux:1165,aurumoth:1166,malaconda:1167,cawmodore:1168,volkraken:1169,plasmanta:1170,naviathan:1171,crucibelle:1172,crucibellemega:1173,kerfluffle:1174,pajantom:1175,syclar:1176,embirch:1177,flarelm:1178,breezi:1179,scratchet:1180,necturine:1181,cupra:1182,argalis:1183,brattler:1184,cawdet:1185,volkritter:1186,snugglow:1187,floatoy:1188,caimanoe:1189,pluffle:1190};r[o]&&(t=r[o]),e&&"F"===e.gender&&("unfezant"!==o&&"frillish"!==o&&"jellicent"!==o&&"meowstic"!==o&&"pyroar"!==o||(t=r[o+"f"])),a&&(r={pikachubelle:1044,pikachupopstar:1045,clefairy:1046,clefable:1047,jigglypuff:1048,wigglytuff:1049,dugtrioalola:1050,poliwhirl:1051,poliwrath:1052,mukalola:1053,kingler:1054,croconaw:1055,cleffa:1056,igglybuff:1057,politoed:1058,sneasel:1079,teddiursa:1080,roselia:1081,zangoose:1082,seviper:1083,castformrainy:1084,absolmega:1085,absol:1086,regirock:1087,torterra:1088,budew:1089,roserade:1090,magmortar:1091,togekiss:1092,rotomwash:1093,shayminsky:1094,emboar:1095,pansear:1096,simisear:1097,drilbur:1098,excadrill:1099,sawk:1100,lilligant:1101,garbodor:1102,solosis:1103,vanilluxe:1104,amoonguss:1105,klink:1106,klang:1107,klinklang:1108,litwick:1109,golett:1110,golurk:1111,kyuremblack:1112,kyuremwhite:1113,kyurem:1114,keldeoresolute:1115,meloetta:1116,greninja:1117,greninjaash:1118,barbaracle:1120,clauncher:1121,clawitzer:1122,sylveon:1123,klefki:1124,zygarde:1125,zygarde10:1126,zygardecomplete:1127,dartrix:1128,steenee:1129,tsareena:1130,comfey:1131,miniormeteor:1132,minior:1133,miniororange:1134,minioryellow:1135,miniorgreen:1136,miniorblue:1137,miniorviolet:1138,miniorindigo:1139,dhelmise:1140,necrozma:1141,marshadow:1142,pikachuoriginal:1143,pikachupartner:1144,necrozmaduskmane:1145,necrozmadawnwings:1146,necrozmaultra:1147,stakataka:1148,blacephalon:1149},r[o]&&(t=r[o]));var n=30*Math.floor(t/12),i=t%12*40;return"background:transparent url(./resources/smicons-sheet.png?a12018dec) no-repeat scroll -"+i+"px -"+n+"px"},getMiniSprite:function(e){return'<div class="poke-icon" style="'+this.getPokemonIcon(e)+'"></div>'},getItemIcon:function(e){var a=0;"string"==typeof e&&window.BattleItems&&(e=window.BattleItems[toId(e)]),e&&e.spritenum&&(a=e.spritenum);var t=24*Math.floor(a/16),o=a%16*24;return"background:transparent url(./resources/itemicons-sheet.png?2018dec) no-repeat scroll -"+o+"px -"+t+"px"},getItemSprite:function(e){return'<div class="item-icon" style="'+this.getItemIcon(e)+'"></div>'},getTypeSprite:function(e){return"???"==e?'<img class="type-image" title="'+e+'" src="https://play.pokemonshowdown.com/sprites/types/%3f%3f%3f.png" />':'<img class="type-image" title="'+e+'" src="https://play.pokemonshowdown.com/sprites/types/'+e+'.png" />'},getMoveTypeSprite:function(e){var a="???";return e=toId(e),window.BattleMovedex[e]&&(a=window.BattleMovedex[e].type),this.getTypeSprite(a)},getCategorySprite:function(e){return"???"==e?'<img class="category-image" title="'+e+'" src="https://play.pokemonshowdown.com/sprites/categories/undefined.png" />':'<img class="category-image" title="'+e+'" src="https://play.pokemonshowdown.com/sprites/categories/'+e+'.png" />'},getMoveCategorySprite:function(e){var a="???";return e=toId(e),window.BattleMovedex[e]&&(a=window.BattleMovedex[e].category),this.getCategorySprite(a)},getMoveLink:function(e){return"other"===toId(e)?escapeHTML(e):'<a href="http://dex.pokemonshowdown.com/moves/'+toId(e)+'" target="_blank">'+escapeHTML(e)+"</a>"},getItemLink:function(e){return"other"===toId(e)?'<span class="item-link">'+escapeHTML(e)+"</span>":'<a href="http://dex.pokemonshowdown.com/items/'+toId(e)+'" class="item-link" target="_blank">'+escapeHTML(e)+"</a>"},getAbilityLink:function(e){return"other"===toId(e)?escapeHTML(e):'<a href="http://dex.pokemonshowdown.com/abilities/'+toId(e)+'" target="_blank">'+escapeHTML(e)+"</a>"},getNatureSpan:function(e){var a="???";switch(toId(e)){case"adamant":a="+Attack, -Sp. Attack";break;case"bold":a="+Defense, -Attack";break;case"brave":a="+Attack, -Speed";break;case"calm":a="+Sp. Defense, -Attack";break;case"careful":a="+Sp. Defense, -Sp. Attack";break;case"gentle":a="+Sp. Defense, -Defense";break;case"hasty":a="+Speed, -Defense";break;case"impish":a="+Defense, -Sp. Attack";break;case"jolly":a="+Speed, -Sp. Attack";break;case"lax":a="+Defense, -Sp. Defense";break;case"lonely":a="+Attack, -Defense";break;case"mild":a="+Sp. Attack, -Defense";break;case"modest":a="+Sp. Attack, -Attack";break;case"naive":a="+Speed, -Sp. Defense";break;case"naughty":a="+Attack, -Sp. Defense";break;case"quiet":a="+Sp. Attack, -Speed";break;case"rash":a="+Sp. Attack, -Sp. Defense";break;case"relaxed":a="+Defense, -Speed";break;case"sassy":a="+Sp. Defense, -Speed";break;case"timid":a="+Speed, -Attack";break;case"bashful":case"docile":case"hardy":case"serious":case"quirky":a="Neutral"}return'<span title="'+a+'">'+escapeHTML(e)+"</span>"}};